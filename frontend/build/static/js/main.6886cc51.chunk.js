(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{244:function(e,t,c){},245:function(e,t,c){"use strict";c.r(t);var n=c(9),r=c.n(n),a=c(15),s=c(8),i=c(1),o=c(36),l=c.n(o),d=(c(135),c(50)),j=c(10),u=c(22),b=c(67),h=c(11),x=c(16),O=c(12),m=c(23),p=c(14),g=c(0),f=function(){return Object(g.jsxs)("div",{className:"jumbotron bg-white",children:[Object(g.jsx)("h1",{className:"display-4",children:"Welcome to SITENAME"}),Object(g.jsx)("p",{className:"lead",children:"A place to create and share bingo meme templates"}),Object(g.jsx)("hr",{className:"my-4"}),Object(g.jsxs)("blockquote",{className:"blockquote text-right mt-5",children:[Object(g.jsx)("p",{className:"mb-0",children:"Wow, I've never seen such a revolutionary bingo layout before! My grandparents are going to love this feature!"}),Object(g.jsx)("footer",{className:"blockquote-footer",children:"Totally real person"})]}),Object(g.jsxs)("blockquote",{className:"blockquote text-right mt-5",children:[Object(g.jsx)("p",{className:"mb-0",children:"Man, bingo was boring and clunky before I discovered this website. Now it isn't clunky anymore!"}),Object(g.jsx)("footer",{className:"blockquote-footer",children:"Mentally fading senior citizen"})]}),Object(g.jsxs)("blockquote",{className:"blockquote text-right mt-5",children:[Object(g.jsx)("p",{className:"mb-0",children:"Top text"}),Object(g.jsx)("footer",{className:"blockquote-footer",children:"Bottom text"})]})]})},v=c(76),N=function(e){console.log(e)},y=function(e){var t=e.apiCall,c=e.loadingMessage,n=e.component,o=Object(i.useState)({data:null,ok:!0}),l=Object(s.a)(o,2),d=l[0],j=d.data,u=d.ok,b=l[1];Object(i.useEffect)((function(){Object(a.a)(r.a.mark((function e(){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N({APIRENDER:"getting data",data:j,ok:u}),e.next=3,t();case 3:c=e.sent,b(c);case 5:case"end":return e.stop()}}),e)})))()}),[]);var h=function(){return(null===j||void 0===j?void 0:j.detail)||!u?Object(g.jsx)("div",{className:"text-sdark-red text-center my-4",children:Object(g.jsx)("h3",{children:"Error"+((null===j||void 0===j?void 0:j.detail)?": ".concat(j.detail):"")})}):Object(g.jsxs)("div",{className:"text-center mt-4",children:[Object(g.jsx)(v.a,{animation:"border",role:"status",children:Object(g.jsx)("span",{className:"sr-only",children:"Loading..."})}),c&&Object(g.jsx)("div",{className:"mt-2",children:c})]})},x=n,O=function(){return j&&!j.detail&&u?Object(g.jsx)(x,{data:j}):Object(g.jsx)(h,{})};return Object(g.jsx)(O,{})},w=c(7),k=c(129),C=function(e){return e.get("sort")||"hot"},S=function(e,t){return Array(t-e+1).fill(0).map((function(t,c){return c+e}))},T=function(e){var t=e.pageSize,c=e.itemCount,n=e.label,r=e.header,a=void 0!==r&&r,s="w-100 rounded p-2 text-center",i=Math.ceil(c/t),o=Object(x.g)(),l=o.pathname,d=new URLSearchParams(o.search),j=C(d),u=parseInt(d.get("page")||"1");d.delete("page");var b=d.toString(),m=function(e){var t,c=e.index,n=void 0===c?0:c,r=n===u?"bg-sdark-orange text-white":"sdark-fg",a=Object(g.jsx)("div",{className:"".concat(s," ").concat(r," ").concat(n?"page-btn":""),children:n||"..."});if(n&&n!==u){var i=new URLSearchParams(b);i.set("page","".concat(n)),t=Object(g.jsx)(O.b,{to:"".concat(l,"?").concat(i.toString()),children:a})}else t=a;return t},p=Object(g.jsxs)(h.a,{children:[Object(g.jsxs)(h.a.Toggle,{id:"sort-dropdown",className:"sdark-fg border-0 p-0 w-100 ".concat(s),children:["sort: ",j]}),Object(g.jsxs)(h.a.Menu,{className:"w-100 slight-bg",children:[Object(g.jsx)(h.a.ItemText,{children:"Sort by"}),Object(g.jsx)(h.a.Divider,{}),["new","popular","hot"].map((function(e){return d.set("sort",e),e===j?Object(g.jsx)(h.a.Item,{disabled:!0,children:e}):Object(g.jsx)(h.a.Item,{as:O.b,to:"".concat(l,"?").concat(d.toString()),children:e})}))]})]}),f=function(e){var t=e.rowSize,c=function(e,t){var c;c=t<=7?7:e>4&&e<t-3?2:4;var n={start:Math.round(e-c/2),end:Math.round(e+c/2)};n.start-1!==1&&n.end+1!==t||(n.start+=1,n.end+=1);var r=e>c?S(Math.min(n.start,t-c),Math.min(n.end,t)):S(1,Math.min(t,c+1)),a=function(e,c){return r.length+1!==t?c:[e]};return 1!==r[0]&&(r=a(1,[1,0]).concat(r)),r[r.length-1]<t&&(r=r.concat(a(t,[0,t]))),r}(u,i);return c.length<t&&Array(t-c.length).fill(null).forEach((function(e){return c.push(e)})),c.push(c.slice(-1)[0]),Object(g.jsx)("div",{className:"row row-cols-".concat(t),children:c.map((function(e,c){var n="pr-2",r="",a=t-1;return c>a?r="d-none d-lg-block":c===a&&(r="d-lg-none",n=""),Object(g.jsx)("div",{className:"col p-0 ".concat(r),children:Object(g.jsx)("div",{className:n,children:null!==e&&Object(g.jsx)(m,{index:e})})})}))})};return Object(g.jsxs)("div",{className:"row",children:[a&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"col-12 d-lg-none",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-6 p-0",children:Object(g.jsx)("div",{className:"pr-1",children:Object(g.jsxs)("div",{className:"sdark-fg ".concat(s),children:[c," ",n]})})}),Object(g.jsx)("div",{className:"pl-1 col-6 p-0",children:p})]})}),Object(g.jsx)("div",{className:"col-12 d-lg-none p-0",children:Object(g.jsx)("hr",{className:"sdark-spacer my-2"})})]}),Object(g.jsx)("div",{className:"col-12 col-lg-6",children:Object(g.jsx)(f,{rowSize:7})}),Object(g.jsx)("div",{className:"d-none d-lg-block col-3"}),Object(g.jsx)("div",{className:"d-none d-lg-block col-3",children:a&&Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-6 p-0",children:Object(g.jsx)("div",{className:"pl-2 pr-1",children:Object(g.jsxs)("div",{className:"sdark-fg ".concat(s),children:[c," ",n]})})}),Object(g.jsx)("div",{className:"pl-1 col-6 p-0",children:p})]})})]})},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=new URLSearchParams(e.search),n={new:"-created_at",popular:"-best,-created_at",hot:"-hot,-created_at"};return c.set("ordering",n[C(c)]),c.delete("sort"),Object.entries(t).forEach((function(e){var t=Object(s.a)(e,2),n=t[0],r=t[1];return c.set(n,r)})),c.toString()},E=new k.a,R={credentials:"same-origin"},A=function(){return{"X-CSRFToken":E.get("csrftoken")}},I=function(){var e=Object(a.a)(r.a.mark((function e(t){var c,n,a,s=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=s.length>1&&void 0!==s[1]?s[1]:{},n=s.length>2&&void 0!==s[2]&&s[2],N({BACKEND:1,url:t,data:c}),a=Object(w.a)(Object(w.a)({},R),{},{method:"GET"}),Object.keys(c).length>0&&(a=Object(w.a)(Object(w.a)({},a),{},{method:n?"PUT":"POST",headers:Object(w.a)(Object(w.a)({},A()),{},{"Content-Type":"application/json"}),body:JSON.stringify(c)})),e.next=7,D(t,a);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(a.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t,Object(w.a)(Object(w.a)({},R),{},{method:"DELETE",headers:Object(w.a)({},A())}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(a.a)(r.a.mark((function e(t,c){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("/api").concat(t),c);case 2:return n=e.sent,a=null,e.prev=4,e.next=7,n.json();case 7:a=e.sent,e.next=12;break;case 10:e.prev=10,e.t0=e.catch(4);case 12:return e.abrupt("return",{data:a,ok:n.ok});case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,c){return e.apply(this,arguments)}}(),L={login:function(e){return I("/login/",e)},logout:function(){return I("/logout/")},editCard:function(e,t){return I("/cards/".concat(e,"/"),t,!0)},deleteCard:function(e){return F("/cards/".concat(e,"/"))},createUser:function(e){return I("/signup/",e)},createVote:function(e){return I("/votes/",e)},createCard:function(e){return I("/cards/",e)},getSession:function(){return I("/session/")},getCard:function(e){return I("/cards/".concat(e,"/"))},getUser:function(e){return I("/users/".concat(e,"/"))},getCategory:function(e){return I("/categories/".concat(e,"/"))},getCardList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return I("/cards/?".concat(q(e,t)))},getTopThreeCategories:function(e){return I("/categories?search=".concat(e))}},B=c(24),M=c(34),P=Object(i.createContext)(null),U=6e4,V=36e5,_=24*V,H=31*_,z={year:321408e5,month:H,day:_,hour:V,minute:U},Y=function(e){var t=new Date(Date.now()),c=new Date(Date.parse(e)),n=t.getTime()-c.getTime();for(var r in z){var a=z[r];if(n>=a){var s=Math.floor(n/a),i=(s=a===U?s%60:s)>1?"s":"";return"".concat(s," ").concat(r).concat(i," ago")}}return"just now"},G=function(){var e=Object(a.a)(r.a.mark((function e(t,c){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.createVote({card:{id:t.id},up:c});case 2:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),W=function(e){var t=e.card,c=Object(i.useContext)(P),n="sdark-fg",r="sdark-orange",a="sdark-violet",o=!1,l=!1,d=0,u="text-".concat(n);null!==t.upvoted&&(d=t.upvoted?-1:1,t.upvoted?(o=!0,u="text-".concat(r)):(l=!0,u="text-".concat(a)));var b=d,h=Object(i.useState)(o),x=Object(s.a)(h,2),O=x[0],m=x[1],f=Object(i.useState)(l),v=Object(s.a)(f,2),N=v[0],y=v[1],w=Object(i.useState)(u),k=Object(s.a)(w,2),C=k[0],S=k[1],T=function(e,t,c){m(!1),y(!1),c(!t),S("text-"+(t?n:e))},q=O?r:n,E=N?a:n,R=0;O&&!N?R=1:N&&!O&&(R=-1),R+=b;var A=Boolean(c);return Object(g.jsxs)(j.a,{xs:2,className:"border-sdark-right text-center",children:[Object(g.jsx)(K,{icon:p.b,color:q,loggedIn:A,voteAction:function(){T(r,O,m),G(t,!0)},user:c}),Object(g.jsx)("div",{className:"my-1 ".concat(C),children:Object(g.jsx)("h5",{children:t.score+R})}),Object(g.jsx)(K,{icon:p.a,color:E,loggedIn:A,voteAction:function(){T(a,N,y),G(t,!1)},user:c})]})},K=function(e){var t=e.icon,c=e.color,n=e.loggedIn,r=e.voteAction,a=e.user;return Object(g.jsx)("div",{className:"text-".concat(c," ").concat(a?"vote-btn":""," p-1 rounded"),onClick:n?r:function(){},style:n?{cursor:"pointer"}:{},children:Object(g.jsx)(m.a,{icon:t})})},J=function(e){var t=e.card,c=e.link,n=Object(x.f)(),o=Object(i.useState)(!1),l=Object(s.a)(o,2),d=l[0],u=l[1],b=Object(i.useContext)(P),h=function(){return u(!d)},f=Object(g.jsx)(O.b,{to:"/users/".concat(t.author.id,"/"),children:t.author.name}),v=Object(g.jsx)(O.b,{to:"/categories/".concat(t.category.name,"/"),children:t.category.name}),N="/cards/".concat(t.id,"/"),y=function(){return c?Object(g.jsx)(O.b,{to:N,children:Object(g.jsx)("h5",{children:t.name})}):Object(g.jsx)("h5",{children:t.name})},k=function(){return Object(g.jsxs)(j.a,{children:[Object(g.jsx)(y,{}),Object(g.jsxs)("p",{className:"text-sdark-fg",children:["submitted ",Y(t.created_at)," by ",f," to ",v]})]})},C=function(){return Object(g.jsx)(g.Fragment,{children:b&&t.author.id===b.id&&Object(g.jsxs)(j.a,{xs:1,className:"border-sdark-left text-center",children:[Object(g.jsx)(B.a,{className:"d-flex justify-content-center align-items-center h-50",children:Object(g.jsx)(O.b,{to:"/cards/".concat(t.id,"/edit/"),children:Object(g.jsx)("div",{className:"text-sdark-red",children:Object(g.jsx)(m.a,{icon:p.d})})})}),Object(g.jsx)(B.a,{className:"d-flex justify-content-center align-items-center h-50",children:Object(g.jsx)("div",{className:"text-sdark-red",style:{cursor:"pointer"},onClick:h,children:Object(g.jsx)(m.a,{icon:p.l})})})]})})},S=function(){return Object(g.jsxs)(M.a,{show:d,dialogAs:function(e){return Object(g.jsx)(M.a.Dialog,{centered:!0,children:Object(g.jsx)("div",Object(w.a)(Object(w.a)({},e),{},{className:"modal-content rounded slight-bg"}))})},children:[Object(g.jsx)(M.a.Header,{closeButton:!0,children:"Delete Bingo Card"}),Object(g.jsxs)(M.a.Body,{children:['Are you sure you want to delete bingo card "',t.name,'"?']}),Object(g.jsxs)(M.a.Footer,{children:[Object(g.jsx)("button",{className:"btn btn-danger",onClick:Object(a.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.deleteCard(t.id);case 2:n.go(0);case 3:case"end":return e.stop()}}),e)}))),children:"Yes"}),Object(g.jsx)("button",{className:"btn btn-primary",onClick:h,children:"No"})]})]})};return Object(g.jsx)("div",{className:"p-3 rounded sdark-fg",children:Object(g.jsxs)(B.a,{children:[Object(g.jsx)(W,{card:t}),Object(g.jsx)(k,{}),Object(g.jsx)(C,{}),Object(g.jsx)(S,{})]})})},Q=function(e){var t=e.card,c=e.children;return Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"w-100",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-2 d-none d-lg-block"}),Object(g.jsx)("div",{className:"col-12 col-lg-8",children:Object(g.jsx)("div",{children:t?Object(g.jsx)("div",{className:"py-4 text-center rounded sdark-fg m-2",children:c}):c})}),Object(g.jsx)("div",{className:"col-2 d-none d-lg-block"})]})})})},X=function(e,t){switch(e){case 0:return"pb-".concat($);case t:return"pt-".concat($);default:return"py-".concat($)}},$=1,Z="rounded text-center sdark-fg p-3 w-100",ee="h-100 d-flex align-items-center justify-content-center",te=function(e){var t=e.subject,c=e.info;return Object(g.jsxs)(Q,{children:[Object(g.jsx)("div",{className:"p-2",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-8 pr-".concat($),children:Object(g.jsx)("div",{className:"".concat(ee," ").concat(Z),children:Object(g.jsx)("h3",{children:t})})}),Object(g.jsx)("div",{className:"col-4 pl-".concat($),children:Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"col",children:c.map((function(e,t){return Object(g.jsx)("div",{className:"row ".concat(X(t,c.length-1)),children:Object(g.jsx)("div",{className:"".concat(Z," w-100"),children:e})})}))})})})]})}),Object(g.jsxs)("div",{className:"pt-2 px-2 d-none",children:[Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col pb-".concat($),children:Object(g.jsx)("div",{className:Z,children:Object(g.jsx)("div",{className:"p-2",children:Object(g.jsx)("h2",{children:t})})})})}),Object(g.jsx)("div",{className:"row row-cols-2",children:c.map((function(e,t){return Object(g.jsx)("div",{className:"col py-".concat($," ").concat(t%2===0?"pr":"pl","-").concat($),children:Object(g.jsx)("div",{className:"".concat(ee," ").concat(Z),children:e})})}))})]})]})},ce=function(){var e={"pt-1":[1,2,3,4,5],"pr-1":[5,10,15,20,25],"pl-1":[1,6,11,16,21],"pb-1":[21,22,23,24,25]};return Array(25).fill(0).map((function(t,c){c++;var n=["pt-1","pb-1","pl-1","pr-1"];return Object.entries(e).forEach((function(e){var t=Object(s.a)(e,2),r=t[0];if(t[1].includes(c)){var a=n.indexOf(r);n.splice(a,1)}})),n.join(" ")}))}(),ne=function(e){return new Date(Date.parse(e)).toLocaleString()},re=function(e){var t=e.data,c=function(e){var c=e.header;return Object(g.jsx)("div",{className:"p-2",children:Object(g.jsx)(T,{itemCount:t.count,pageSize:t.page_size,label:"cards",header:c})})};return 0===t.count?Object(g.jsx)(Q,{card:!0,children:Object(g.jsx)("h3",{children:"No results found."})}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(c,{header:!0}),Object(g.jsx)("div",{className:"row row-cols-1 row-cols-lg-2",children:t.results.map((function(e){return Object(g.jsx)("div",{className:"col p-2",children:Object(g.jsx)(J,{card:e,link:!0})})}))}),Object(g.jsx)(c,{})]})},ae=function(e){var t=e.query,c=Object(x.g)();return Object(g.jsx)(y,{apiCall:function(){return L.getCardList(c,t)},component:re})},se=function(e){var t=e.data;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(te,{subject:"category: ".concat(t.name),info:[Object(g.jsxs)(g.Fragment,{children:["author: ",Object(g.jsx)(O.b,{to:"/users/".concat(t.author.id,"/"),children:t.author.name})]}),"created at ".concat(ne(t.created_at))]}),Object(g.jsx)(ae,{query:{category:t.name}})]})},ie=function(){var e=Object(x.h)().categoryName;return Object(g.jsx)(y,{apiCall:function(){return L.getCategory(e)},component:se},e)},oe=function(e){var t=e.data;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(te,{subject:"user: ".concat(t.name),info:["score: ".concat(t.score),"created at ".concat(ne(t.created_at))]}),Object(g.jsx)(ae,{query:{user:t.id}})]})},le=function(){var e=Object(x.h)().userId;return Object(g.jsx)(y,{apiCall:function(){return L.getUser(e)},component:oe},e)},de=c(19),je=c(66),ue=c(128),be=c(98),he=function(e){return window.scrollTo({top:e,behavior:"smooth"})},xe=function(){return he(0)},Oe=function(){return he(document.body.scrollHeight)},me=function(e){var t=e.spacer,c=e.buttons,n=function(e,c,n){return Object(g.jsx)(u.a.Item,{onClick:n,children:Object(g.jsxs)(u.a.Link,{children:[Object(g.jsx)(m.a,{className:t?"text-sdark-spacer":"text-sdark-fg",icon:e}),Object(g.jsx)("br",{}),Object(g.jsx)("small",{className:t?"text-sdark-spacer":"text-sdark-fg",children:c})]})})};return Object(g.jsx)(b.a,{fixed:t?void 0:"bottom",className:t?"sdark-spacer py-0":"sdark-fg shadow py-1",children:Object(g.jsx)(d.a,{children:Object(g.jsxs)(u.a,{fill:!0,className:"w-100",children:[t?n(p.i,"Bottom of page"):[n(p.f,"Bottom",Oe),n(p.g,"Top",xe)],(null===c||void 0===c?void 0:c.length)&&c.map((function(e){return n.apply(void 0,Object(de.a)(e))}))]})})})},pe=function(e){return Object(g.jsxs)("div",{id:"navbars",className:"d-md-none",children:[Object(g.jsx)(me,{spacer:!0}),Object(g.jsx)(me,Object(w.a)({},e))]})},ge=function(){var e=Array(5).fill(0).map((function(e,t){return t})),t=e.map((function(e){return Array(5).fill(0).map((function(t,c){return 5*c+e}))})),c=e.map((function(e){return Array(5).fill(0).map((function(t,c){return c+5*e}))})),n=Array(5).fill(0).map((function(e,t){return 4*t+4})),r=Array(5).fill(0).map((function(e,t){return 6*t}));return[].concat(Object(de.a)(t),Object(de.a)(c),[n,r])}(),fe=function(e,t,c,n){if(!navigator.maxTouchPoints){var r=c.tiles,a=r.indexOf(e);r[a].hovered=t,n(Object(w.a)(Object(w.a)({},c),{},{tiles:r}))}},ve=function(e,t,c,n){var r=t.tiles,a=r.indexOf(e);r[a].clicked=!r[a].clicked,c(Object(w.a)(Object(w.a)({},t),{},{tiles:r}));var s=function(e){if(ge.some((function(t){return t.every((function(t){return e.tiles[t].clicked}))})))return ge.filter((function(t){return t.every((function(t){return e.tiles[t].clicked}))}))[0].map((function(t){return e.tiles[t]}))}(t);s&&n(s)},Ne=function(e){return e.clicked?ye:e.hovered?we:"sdark-fg"},ye="bg-sdark-green text-white",we="bg-sdark-magenta text-white",ke=function(e){var t=e.passedCard,c=e.cardInfo,n=Object(i.useState)((function(){var e=Object.entries(t).filter((function(e){var t=Object(s.a)(e,2),c=t[0];t[1];return c.startsWith("tile_")})),c=e.map((function(e,t){var c=Object(s.a)(e,2);c[0];return{text:c[1],hovered:!1,clicked:!1,id:t+1}}));return e.forEach((function(e){var c=Object(s.a)(e,2),n=c[0];c[1];return Reflect.deleteProperty(t,n)})),c[12].clicked=!0,t.tiles=c,console.log("init card"),t})),r=Object(s.a)(n,2),a=r[0],o=r[1],l=Object(i.useState)(""),d=Object(s.a)(l,2),u=d[0],b=d[1],h=Object(i.useState)([]),x=Object(s.a)(h,2),O=x[0],f=x[1],v=Object(i.useState)(!0),N=Object(s.a)(v,2),y=N[0],k=N[1],C=Object(i.useRef)(null),S=Boolean(O.length),T=function(){window.scrollTo({top:0,behavior:"smooth"}),k(!1),C.current&&C.current.focus()},q=[[p.j,"Search",T]];y||q.push([p.e,"Expand",function(){return k(!0)}]);var E=a.tiles.filter((function(e){return e.text.toLowerCase().includes(u.toLowerCase())}));return console.log("\nLAYOUT:\n\n    card: ".concat(a.name,"\n    query: ").concat(u,"\n    solution: ").concat(O,"\n    topToggled: ").concat(y,"\n")),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)(B.a,{className:"pt-2",children:[Object(g.jsxs)(j.a,{id:"info-and-indicators",xs:12,md:6,lg:5,className:"px-2",children:[Object(g.jsxs)("div",{id:"card-info",className:"pb-2 "+(y?"":"d-none d-md-block"),children:[Object(g.jsx)("div",{className:"mb-2",children:c}),Object(g.jsx)(j.a,{id:"indicators",className:"text-center",children:Object(g.jsx)(B.a,{className:"row-cols-5",children:a.tiles.map((function(e,t){return Object(g.jsx)(j.a,{className:"p-0 ".concat(ce[t]),children:Object(g.jsx)(j.a,{className:"py-2 rounded ".concat(Ne(e)),children:e.id})})}))})})]}),Object(g.jsxs)("div",{id:"search-bar",className:"pb-2",children:[!y&&Object(g.jsx)("div",{className:"d-md-none text-sdark-bg p-0 pb-1",children:Object(g.jsx)("small",{children:"Card info hidden. Click on the expand button to show them."})}),Object(g.jsxs)(be.a,{children:[Object(g.jsx)(ue.a.Control,{placeholder:"Search bingo tiles",type:"string",className:"slight-bg",value:u,style:{cursor:"pointer"},onChange:function(e){return b(e.target.value)},onFocus:T,ref:C}),u&&Object(g.jsx)(be.a.Append,{children:Object(g.jsx)(je.a,{variant:"danger",className:"bg-sdark-red",onClick:function(){b(""),k(!0)},children:Object(g.jsx)(m.a,{icon:p.k})})})]})]})]}),Object(g.jsxs)(j.a,{id:"tiles",xs:12,md:6,lg:7,className:"px-2",children:[u&&Object(g.jsx)("div",{className:"text-sdark-bg text-center p-0 "+(E.length?"pb-3":""),children:E.length?"".concat(E.length," result")+(E.length>1?"s":""):"No results"}),Object(g.jsx)(B.a,{className:"row-cols-1 row-cols-md-1",children:E.map((function(e,t){return Object(g.jsx)(j.a,{className:0===t?"pb-1":"py-1",children:Object(g.jsx)(j.a,{style:{cursor:"pointer"},className:"rounded h-100 py-2 ".concat(Ne(e)),onClick:function(){return ve(e,a,o,f)},onMouseEnter:function(){return fe(e,!0,a,o)},onMouseLeave:function(){return fe(e,!1,a,o)},children:Object(g.jsxs)(B.a,{children:[Object(g.jsx)(j.a,{xs:2,lg:1,className:"border"+(e.hovered||e.clicked?"":"-sdark")+"-right text-center",children:e.id}),Object(g.jsx)(j.a,{children:e.text})]})})})}))}),Object(g.jsx)("hr",{className:"sdark-hr"})]}),Object(g.jsxs)(M.a,{show:S,dialogAs:function(e){return Object(g.jsx)("div",{className:"modal-dialog modal-dialog-centered",children:Object(g.jsx)("div",Object(w.a)({},Object(w.a)(Object(w.a)({},e),{},{className:"modal-content rounded sdark-bg"})))})},children:[Object(g.jsx)(M.a.Header,{children:"You got Bingo!"}),Object(g.jsxs)(M.a.Body,{children:[Object(g.jsx)("div",{className:"text-center mb-4 mt-3",children:Object(g.jsx)("h3",{children:a.name})}),Object(g.jsx)(B.a,{className:"row-cols-1 p-1",children:O.map((function(e){return Object(g.jsx)(j.a,{className:"p-1",children:Object(g.jsx)(j.a,{className:"rounded h-100 p-2 sdark-fg",children:Object(g.jsxs)(B.a,{children:[Object(g.jsx)(j.a,{xs:2,md:1,className:"border-sdark-right text-center",children:e.id}),Object(g.jsx)(j.a,{children:e.text})]})})})}))}),Object(g.jsxs)("div",{className:"text-center mt-4 mb-3",children:["Link: ",Object(g.jsx)("a",{href:window.location.href,className:"sdark-bg",children:window.location.href})]})]}),Object(g.jsx)(M.a.Footer,{children:Object(g.jsx)(je.a,{variant:"primary",onClick:function(){return function(e,t,c){if(e){var n=e.tiles.map((function(e){return e.hovered=!1,e.clicked=!1,e}));n[12].clicked=!0,t(Object(w.a)(Object(w.a)({},e),{},{tiles:n})),c([]),window.scrollTo({top:0,behavior:"smooth"})}}(a,o,f)},children:"Start Over"})})]})]}),Object(g.jsx)(pe,{id:"card-navbar",buttons:q})]})},Ce=function(){var e=Object(x.h)().cardId;return Object(g.jsx)(y,{apiCall:function(){return L.getCard(e)},loadingMessage:"Loading bingo card ".concat(e),component:function(e){var t=e.data;return Object(g.jsx)(ke,{passedCard:t,cardInfo:Object(g.jsx)(J,{card:t})})}})},Se=c(31),Te=c(21),qe=function(e){var t=e.message;return Object(g.jsxs)("div",{className:"text-center",children:[Object(g.jsx)(v.a,{animation:"border",role:"status",children:Object(g.jsx)("span",{className:"sr-only",children:"Loading..."})}),Object(g.jsx)("div",{className:"mt-2",children:"string"===typeof t?Object(g.jsx)("h4",{children:t}):t})]})},Ee=function(e){var t=e.user,c=e.login,n=e.logout;return Object(g.jsx)("div",{className:"py-4",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-3 d-none d-lg-block"}),Object(g.jsx)("div",{className:"col-12 col-lg-6",children:Object(g.jsx)(Ae,{login:c,logout:n,user:t})}),Object(g.jsx)("div",{className:"col-3 d-none d-lg-block"})]})})},Re=Se.a().shape({username:Se.c().required("Required"),password:Se.c().required("Required")}),Ae=function(e){var t=e.login,c=e.logout,n=e.user,o=Object(i.useState)(200),l=Object(s.a)(o,2),d=l[0],j=(l[1],function(){var e=Object(a.a)(r.a.mark((function e(c){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.login(c);case 2:(n=e.sent).data&&n.data.user&&t(n.data.user);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u=function(){var e=Object(a.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.logout();case 2:e.sent.ok&&c();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(a.a)(r.a.mark((function e(t,c){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=c.resetForm,!n){e.next=6;break}return e.next=4,u();case 4:e.next=8;break;case 6:return e.next=8,j(t);case 8:return a(),e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}();return Object(g.jsx)(Te.d,{validationSchema:Re,initialValues:Re.default(""),onSubmit:b,children:function(e){var t=e.isSubmitting,c=e.setFieldValue;return t?Object(g.jsx)(qe,{message:"Logging "+(n?"out":"in")+"..."}):n?Object(g.jsxs)("div",{className:"text-center",children:[Object(g.jsxs)("h1",{children:["Logged in as ",n.name,"!"]}),Object(g.jsx)(Te.c,{children:Object(g.jsx)("button",{className:"btn btn-primary",disabled:t,type:"submit",onClick:function(){c("username","placeholder bc validation"),c("password","placeholder bc validation")},children:"Logout"})})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"text-center",children:[Object(g.jsx)("h1",{children:"Login"}),400===d&&Object(g.jsx)("div",{className:"text-danger mt-4",children:"Invalid credentials"})]}),Object(g.jsx)("div",{className:"mt-4",children:Object(g.jsxs)(Te.c,{children:[Object(g.jsx)("div",{className:"form-row",children:Object(g.jsxs)("div",{className:"form-group col",children:[Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col",children:Object(g.jsx)("label",{children:"Username"})}),Object(g.jsx)("div",{className:"col w-100 text-right",children:Object(g.jsx)(Te.a,{name:"username",component:"label",className:"text-danger"})})]}),Object(g.jsx)(Te.b,{name:"username",className:"form-control"})]})}),Object(g.jsx)("div",{className:"form-row",children:Object(g.jsxs)("div",{className:"form-group col",children:[Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col",children:Object(g.jsx)("label",{children:"Password"})}),Object(g.jsx)("div",{className:"col w-100 text-right",children:Object(g.jsx)(Te.a,{name:"password",component:"label",className:"text-danger"})})]}),Object(g.jsx)(Te.b,{name:"password",type:"password",className:"form-control"})]})}),Object(g.jsx)("button",{className:"btn btn-primary",type:"submit",disabled:t,children:"Login"}),Object(g.jsx)(O.b,{to:"/signup/",children:Object(g.jsx)("button",{className:"btn btn-warning ml-2",children:"Signup"})})]})})]})}})},Ie=function(){return Object(g.jsx)("div",{className:"py-4",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-3 d-none d-lg-block"}),Object(g.jsx)("div",{className:"col-12 col-lg-6",children:Object(g.jsx)(Be,{})}),Object(g.jsx)("div",{className:"col-3 d-none d-lg-block"})]})})},Fe=function(){return Se.c().default("").required("Required")},De=Se.a().shape({username:Fe().min(2,"Too Short!").max(50,"Too Long!"),password:Fe().min(10,"Too Short!"),confirmPassword:Fe().when("password",{is:function(e){return!!(e&&e.length>0)},then:Se.c().oneOf([Se.b("password")],"Needs to match password")}),email:Fe().email("Invalid email")}),Le=[["Username","username","text"],["Email","email","email"],["Password","password","password"],["Confirm Password","confirmPassword","password"]],Be=function(){var e=Object(i.useState)(!1),t=Object(s.a)(e,2),c=t[0],n=t[1],o=Object(i.useState)(!1),l=Object(s.a)(o,2),d=l[0],j=l[1],u=function(){var e=Object(a.a)(r.a.mark((function e(t,c){var a,i,o,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.resetForm,i=c.setErrors,j(!1),e.next=4,L.createUser({username:t.username,password:t.password,email:t.email});case 4:return(o=e.sent).data&&!o.ok?(l=o.data,i(Object.fromEntries(Object.entries(l).map((function(e){var t=Object(s.a)(e,2);return[t[0],t[1][0]]}))))):o.ok&&(a(),n(!0)),j(!0),e.abrupt("return");case 8:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),b=function(e){var t=e.isSubmitting;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"text-center",children:Object(g.jsx)("h1",{children:"Signup"})}),!c&&d?Object(g.jsxs)("div",{className:"text-danger text-center",children:[Object(g.jsx)("h1",{children:"Whoops!"}),Object(g.jsx)("p",{children:"There was something wrong, please submit again."})]}):null,Object(g.jsx)("div",{className:"mt-4",children:Object(g.jsxs)(Te.c,{children:[Le.map((function(e){var t=Object(s.a)(e,3),c=t[0],n=t[1],r=t[2];return Object(g.jsx)("div",{className:"form-row",children:Object(g.jsxs)("div",{className:"form-group col",children:[Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col",children:Object(g.jsx)("label",{children:c})}),Object(g.jsx)("div",{className:"col w-100 text-right",children:Object(g.jsx)(Te.a,{name:n,component:"label",className:"text-danger"})})]}),Object(g.jsx)(Te.b,{name:n,type:r,className:"form-control"})]})})})),Object(g.jsx)("button",{className:"btn btn-primary",type:"submit",disabled:t,children:"Signup"}),Object(g.jsx)(O.b,{to:"/login/",children:Object(g.jsx)("button",{className:"btn btn-warning ml-2",children:"Back to Login"})})]})})]})},h=function(){return Object(g.jsxs)("div",{className:"text-center",children:[Object(g.jsx)("div",{className:"mb-2",children:Object(g.jsx)("h1",{children:"Account creation successful!"})}),Object(g.jsx)(O.b,{to:"/login/",children:Object(g.jsx)("button",{className:"btn btn-warning ml-2",children:"Back to Login"})})]})};return Object(g.jsx)(Te.d,{validateOnBlur:!0,validateOnChange:!1,validationSchema:De,initialValues:De.getDefault(),onSubmit:u,children:function(e){var t=e.isSubmitting;return t?Object(g.jsx)(qe,{message:"Creating new account..."}):c?Object(g.jsx)(h,{}):Object(g.jsx)(b,{isSubmitting:t})}})},Me=function(){var e=new URLSearchParams(Object(x.g)().search).get("q")||"",t={search:encodeURIComponent(e)};return N({SEARCHVIEW:1,searchQuery:e}),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Q,{card:!0,children:Object(g.jsxs)("h3",{children:['Search results for "',e,'"']})}),Object(g.jsx)(ae,{query:t})]})},Pe=function(e){console.log(e)},Ue=Array(25).fill(null).map((function(e,t){return"tile_".concat(t+1)})),Ve=[].concat(Object(de.a)(Ue),["name","category"]),_e=function(e){return Se.c().default("").required("Cannot be blank.").max(e,"Cannot be longer than ".concat(e," characters."))},He=_e(20).matches(/^\w+$/,{message:"Can only contain letters, numbers and underscores.",excludeEmptyString:!0}),ze=Object.fromEntries([].concat(Ue.map((function(e){return[e,_e(200)]})),Object.entries({name:_e(50),category:He}))),Ye=Se.a().shape(ze),Ge=function(e){var t=e.name,c=e.label;return Object(g.jsx)(Te.b,{name:t,children:function(e){var t=e.meta;return t.touched?Object(g.jsx)("div",{className:"rounded text-center py-2 text-white bg-sdark-".concat(t.error?"red":"green"),children:c}):Object(g.jsx)("div",{className:"rounded text-center py-2 sdark-fg",children:c})}})},We=Object(i.forwardRef)((function(e,t){var c=e.children;return Object(g.jsx)("div",{ref:t,children:c})})),Ke=Object(i.createContext)({setFieldValue:function(){},values:{}}),Je=function(e){var t=e.card,c=Object(i.useContext)(Ke),n=c.setFieldValue,o=c.values.category,l={query:o,showDropdown:!1,loading:!1,disabled:Boolean(o.length>0),errors:[],categories:{count:0,page_size:0,results:[]}},d=Object(i.useReducer)((function(e,t){switch(Pe({CATEGORYSEARCHBAR:"reducer",state:e,action:t}),t.type){case"query":return setTimeout((function(){Pe({CATEGORYSEARCHBAR:"input check",query:f,queryRef:T}),f&&f===T.current&&(Pe("searching for categories..."),q())}),500),Object(w.a)(Object(w.a)({},e),{},{query:t.payload,showDropdown:!1,disabled:!!e.disabled&&t.payload.length>0,errors:t.payload.length>0?e.errors:[]});case"dropdown":return Object(w.a)(Object(w.a)({},e),{},{showDropdown:t.payload});case"category":return Object(w.a)(Object(w.a)({},e),{},{showDropdown:!0,loading:!1,categories:t.payload});case"menuSelect":var c=t.payload.errors.length>0?"":t.payload.query;return n("category",c),Object(w.a)(Object(w.a)({},e),{},{disabled:Boolean(t.payload.query.length>0),query:t.payload.query,errors:t.payload.errors});case"load":return Object(w.a)(Object(w.a)({},e),{},{showDropdown:!t.payload,loading:t.payload})}}),l),u=Object(s.a)(d,2),b=u[0],x=b.disabled,O=b.errors,f=b.query,v=b.showDropdown,N=b.loading,y=b.categories,k=u[1],C=0===O.length,S=x&&C,T=Object(i.useRef)(f);T.current=f,Pe({CATEGORYSEARCHBAR:"states",query:f,disabled:x,errors:O,categoryName:o});var q=function(){var e=Object(a.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k({type:"load",payload:!0}),e.next=3,L.getTopThreeCategories(f);case 3:t=e.sent,c=t.data,t.ok&&c?(Pe(c),k({type:"category",payload:c})):k({type:"load",payload:!1});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){return Object(g.jsx)(g.Fragment,{children:N&&Object(g.jsx)("div",{className:"input-group-append",children:Object(g.jsx)("span",{className:"input-group-text",children:Object(g.jsx)("div",{className:"pl-2",children:Object(g.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",children:Object(g.jsx)("span",{className:"sr-only",children:"Loading..."})})})})})})},R=function(){return Object(g.jsx)(g.Fragment,{children:!S&&f.length>0&&Object(g.jsx)("div",{className:"input-group-append",style:{cursor:"pointer"},onClick:function(){return k({type:"query",payload:""})},children:Object(g.jsx)("span",{className:"input-group-text clear",children:Object(g.jsx)(m.a,{icon:p.k})})})})},A=function(){return Object(g.jsx)(g.Fragment,{children:S&&Object(g.jsx)("div",{className:"input-group-append",children:Object(g.jsx)("span",{className:"input-group-text clear p-1",children:Object(g.jsx)("div",{className:"p-2 rounded text-white bg-sdark-violet align-items-center justify-content-center",children:Object(g.jsxs)(B.a,{children:[Object(g.jsx)(j.a,{className:t?"":"pr-2",children:f}),!t&&Object(g.jsx)(j.a,{className:"pl-2",children:Object(g.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return k({type:"menuSelect",payload:{query:"",errors:[]}})},children:Object(g.jsx)("small",{children:Object(g.jsx)(m.a,{icon:p.k})})})})]})})})})})},I=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(h.a.Item,{className:"slight-bg",disabled:!0,children:"Select one"}),Object(g.jsx)(h.a.Divider,{className:"border-slight-top"}),y.count>0?y.results.map((function(e){return Object(g.jsx)(h.a.Item,{className:"slight-bg",eventKey:e.name,children:e.name})})):Object(g.jsxs)(h.a.Item,{className:"slight-bg",eventKey:"QUERY!",children:["Create new category: ",f]})]})},F=function(){return Object(g.jsx)(g.Fragment,{children:O.length>0&&f.length>0&&O.map((function(e){return Object(g.jsx)("div",{className:"text-sdark-red",children:Object(g.jsx)("small",{children:e})})}))})},D=function(){return Object(g.jsx)("div",{className:"input-group-prepend",children:Object(g.jsx)("span",{className:"input-group-text ".concat(x?C?"success":"error":""),children:"Category"})})};return Object(g.jsxs)(h.a,{show:v,onToggle:function(){return k({type:"dropdown",payload:!v})},onSelect:function(e){var t=[];switch(e){case null:break;case"QUERY!":try{He.validateSync(f)}catch(c){t=c.errors}k({type:"menuSelect",payload:{query:f,errors:t}});break;default:k({type:"menuSelect",payload:{query:e,errors:t}})}},children:[Object(g.jsxs)("div",{className:"input-group slight-bg rounded",children:[Object(g.jsx)(D,{}),Object(g.jsx)(A,{}),Object(g.jsx)("input",{disabled:S,type:"text",className:"form-control",placeholder:S?"":"Search",value:S?"":f,onChange:function(e){return k({type:"query",payload:e.target.value})}}),Object(g.jsx)(R,{}),Object(g.jsx)(E,{})]}),Object(g.jsx)("div",{children:Object(g.jsx)(F,{})}),Object(g.jsx)(h.a.Toggle,{as:We,id:"create-category"}),Object(g.jsx)(h.a.Menu,{className:"w-100 slight-bg mt-1 px-2",children:Object(g.jsx)(I,{})})]})},Qe=function(e){var t=e.name,c=e.label;return Object(g.jsx)(Te.b,{name:t,children:function(e){var t=e.field,n=e.meta;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"input-group",children:[Object(g.jsx)("div",{className:"input-group-prepend",children:Object(g.jsx)("span",{className:"input-group-text ".concat(n.touched?n.error?"error":"success":""),children:c})}),Object(g.jsx)("input",Object(w.a)({type:"text",className:"form-control",placeholder:"Empty"},t))]}),n.touched&&n.error&&Object(g.jsx)("div",{className:"text-sdark-red",children:Object(g.jsx)("small",{children:n.error})})]})}})},Xe=function(e){"Enter"===e.key&&e.preventDefault()},$e=function(e){var t=e.isSubmitting,c=e.card;return Object(g.jsxs)(Te.c,{onKeyDown:Xe,children:[Object(g.jsx)(Q,{card:!0,children:Object(g.jsx)("h2",{children:c?'Editing "'.concat(c.name,'"'):"Create New Card"})}),Object(g.jsxs)(B.a,{children:[Object(g.jsx)(j.a,{xs:12,lg:5,children:Object(g.jsxs)("div",{className:"p-2",children:[Object(g.jsxs)(j.a,{className:"pb-2 px-0",children:[Object(g.jsx)(B.a,{className:"pb-2 px-0",children:Object(g.jsx)(Qe,{name:"name",label:"Name"})}),Object(g.jsx)(B.a,{children:Object(g.jsx)(j.a,{className:"w-100 px-0",children:Object(g.jsx)(Je,{card:c})})})]}),Object(g.jsx)(B.a,{className:"row-cols-5 pt-2",children:Ue.map((function(e,t){return Object(g.jsx)("div",{className:ce[t],children:Object(g.jsx)(Ge,{name:e,label:"".concat(t+1)})})}))})]})}),Object(g.jsx)(j.a,{xs:12,lg:7,className:"p-0",children:Object(g.jsx)("div",{className:"p-2",children:Ue.map((function(e,t){return Object(g.jsx)("div",{className:24!==t?"pb-2":"",children:Object(g.jsx)(Qe,{name:e,label:"Tile ".concat(t+1)})})}))})}),Object(g.jsx)(j.a,{xs:12})]}),Object(g.jsx)("button",{className:"btn btn-primary",type:"submit",disabled:t,children:"Submit"})]})},Ze=function(e){var t=e.card,c=Object(i.useState)({}),n=Object(s.a)(c,2),o=n[0],l=o.success,d=(o.cardName,n[1]),j=Object(x.f)(),u=t?Object(w.a)(Object(w.a)({},Object.fromEntries(Ve.map((function(e){return[e,t[e]]})))),{},{category:t.category.name}):Ye.getDefault(),b=function(){var e=Object(a.a)(r.a.mark((function e(c,n){var a,i,o,l,j,b,h;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.setErrors,i=n.resetForm,o=Object(w.a)(Object(w.a)({},c),{},{category:{name:c.category}}),l=function(e){return L.createCard(e)},t&&(l=function(e){return L.editCard(t.id,e)},o=Object.fromEntries(Object.entries(o).filter((function(e){var t=Object(s.a)(e,2),c=t[0],n=t[1];return"category"!==c&&n!==u[c]})))),e.next=6,l(o);case 6:return j=e.sent,b=j.data,!(h=j.ok)&&b?a(Object.fromEntries(Object.entries(b).map((function(e){var t=Object(s.a)(e,2);return[t[0],t[1][0]]})))):h&&!t&&i(),Pe({CARDCREATE:"submitted card",data:b,ok:h}),d({success:h,cardName:o.name}),e.abrupt("return");case 13:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}();Pe({CARDCREATE:"layout render"});var h=t?"edit":"creat",O=h.charAt(0).toUpperCase()+h.slice(1);return l?Object(g.jsxs)(Q,{card:!0,children:[Object(g.jsxs)("h2",{className:"mb-4",children:["Successfully ",h,"ed bingo card!"]}),Object(g.jsx)("button",{className:"btn btn-primary",onClick:function(){return j.go(-1)},children:"Go Back"})]}):Object(g.jsx)("div",{className:"px-2",children:Object(g.jsx)(Te.d,{validationSchema:Ye,initialValues:u,onSubmit:b,children:function(e){var c=e.isSubmitting,n=e.setFieldValue,r=e.values;return Object(g.jsx)(Ke.Provider,{value:{setFieldValue:n,values:r},children:c?Object(g.jsx)(qe,{message:"".concat(O,"ing new bingo card...")}):Object(g.jsx)($e,{isSubmitting:c,card:t})})}})})},et=function(){var e=Object(x.h)().cardId;return e?Object(g.jsx)(y,{apiCall:function(){return L.getCard("".concat(e))},component:function(e){var t=e.data;return Object(g.jsx)(Ze,{card:t})}}):Object(g.jsx)(Ze,{})},tt=Object(i.forwardRef)((function(e,t){var c=e.children;return Object(g.jsx)("div",{ref:t,children:c})})),ct=function(e){var t=e.label,c=e.apiCall,n=e.resultMapper,o=Object(i.useReducer)((function(e,c){switch(N({SEARCHBAR:"reducer",label:t,state:e,action:c}),c.type){case"query":return setTimeout((function(){N({SEARCHBAR:"input check",label:t,query:u,queryRef:y}),u&&u===y.current&&(N("searching for searchResults..."),k())}),500),Object(w.a)(Object(w.a)({},e),{},{query:c.payload,showDropdown:!1,disabled:!!e.disabled&&c.payload.length>0});case"dropdown":return Object(w.a)(Object(w.a)({},e),{},{showDropdown:c.payload});case"results":return Object(w.a)(Object(w.a)({},e),{},{showDropdown:!0,loading:!1,searchResults:c.payload});case"menuSelect":return Object(w.a)(Object(w.a)({},e),{},{disabled:Boolean(c.payload.query.length>0),query:c.payload.query});case"load":return Object(w.a)(Object(w.a)({},e),{},{showDropdown:!c.payload,loading:c.payload})}}),{query:"",showDropdown:!1,loading:!1,disabled:!1,searchResults:{count:0,page_size:0,results:[]}}),l=Object(s.a)(o,2),d=l[0],j=d.disabled,u=d.query,b=d.showDropdown,x=d.loading,O=d.searchResults,f=l[1],v=j,y=Object(i.useRef)(u);y.current=u,N({SEARCHBAR:"states",label:t,query:u,disabled:j});var k=function(){var e=Object(a.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f({type:"load",payload:!0}),e.next=3,c(u);case 3:t=e.sent,n=t.data,t.ok&&n?(N(n),f({type:"results",payload:n})):f({type:"load",payload:!1});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){return Object(g.jsx)(g.Fragment,{children:x&&Object(g.jsx)("div",{className:"input-group-append",children:Object(g.jsx)("span",{className:"input-group-text",children:Object(g.jsx)("div",{className:"pl-2",children:Object(g.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",children:Object(g.jsx)("span",{className:"sr-only",children:"Loading..."})})})})})})},S=function(){return Object(g.jsx)(g.Fragment,{children:!v&&u.length>0&&Object(g.jsx)("div",{className:"input-group-append",style:{cursor:"pointer"},onClick:function(){return f({type:"query",payload:""})},children:Object(g.jsx)("span",{className:"input-group-text clear",children:Object(g.jsx)(m.a,{icon:p.k})})})})},T=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(h.a.Item,{className:"slight-bg",disabled:!0,children:"Select one"}),Object(g.jsx)(h.a.Divider,{className:"border-slight-top"}),O.count>0?O.results.map(n):Object(g.jsx)(h.a.Item,{className:"slight-bg",disabled:!0,children:"No results found"})]})},q=function(){return Object(g.jsx)("div",{className:"input-group-prepend",children:Object(g.jsx)("span",{className:"input-group-text",children:t})})};return Object(g.jsxs)(h.a,{show:b,onToggle:function(){return f({type:"dropdown",payload:!b})},onSelect:function(){return f({type:"query",payload:""})},children:[Object(g.jsxs)("div",{className:"input-group slight-bg rounded",children:[Object(g.jsx)(q,{}),Object(g.jsx)("input",{disabled:v,type:"text",className:"form-control",placeholder:v?"":"Search",value:v?"":u,onChange:function(e){return f({type:"query",payload:e.target.value})}}),Object(g.jsx)(S,{}),Object(g.jsx)(C,{})]}),Object(g.jsx)(h.a.Toggle,{as:tt,id:"search-bar-".concat(t)}),Object(g.jsx)(h.a.Menu,{className:"w-100 slight-bg mt-1 px-2",children:Object(g.jsx)(T,{})})]})},nt=(c(244),function(e,t){var c=e.children;return Object(g.jsx)("div",{ref:t,children:c})}),rt=function(e){var t=e.icon;return Object(g.jsx)("h4",{className:"m-0",children:Object(g.jsx)(m.a,{icon:t})})},at=function(){var e=Object(i.useContext)(P),t=Object(i.useState)(!1),c=Object(s.a)(t,2),n=c[0],r=c[1],a=function(){return r(!n)},o=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(h.a.Item,{className:"slight-bg",disabled:!0,children:e?e.name:"Not Logged In"}),Object(g.jsx)(h.a.Divider,{}),e?Object(g.jsxs)(h.a.Item,{as:O.b,to:{pathname:"/users/".concat(e.id,"/"),state:{userId:e.id}},children:[Object(g.jsx)(m.a,{icon:p.c})," Profile"]}):Object(g.jsx)(h.a.Item,{className:"slight-bg",as:O.b,to:"/login/",children:"Login"})]})};return Object(g.jsxs)(h.a,{show:n,onToggle:a,children:[Object(g.jsx)("div",{onClick:a,style:{cursor:"pointer"},className:"hover-white",children:Object(g.jsx)(rt,{icon:p.m})}),Object(g.jsx)(h.a.Toggle,{as:nt,id:"login-dropdown"}),Object(g.jsx)(h.a.Menu,{align:"right",className:"slight-bg",children:Object(g.jsx)(o,{})})]})},st=function(){var e=Object(i.useState)(!1),t=Object(s.a)(e,2),c=t[0],n=t[1],r=Object(i.useContext)(P),a=Object(x.h)(),o=a.categoryName,l=void 0===o?"":o;console.log({TOPNAV:"render",categoryName:l,params:a});var m=function(){return Object(g.jsxs)(g.Fragment,{children:[r&&Object(g.jsx)(u.a.Item,{className:"pr-3",children:Object(g.jsx)(u.a.Link,{as:O.b,to:{pathname:"/create/",state:{categoryName:l}},children:Object(g.jsx)(rt,{icon:p.h})})}),Object(g.jsx)(u.a.Item,{children:Object(g.jsx)(at,{})})]})},f=Object(g.jsx)(ct,{label:"Search",apiCall:function(e){return L.getTopThreeCategories(e)},resultMapper:function(e){return Object(g.jsxs)(h.a.Item,{as:O.b,to:"/categories/".concat(e.name,"/"),children:["Go to ",e.name]})}});return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(b.a,{id:"desktop-topnav",className:"shadow sdark-fg d-none d-lg-block",variant:"dark",sticky:"top",children:Object(g.jsxs)(d.a,{children:[Object(g.jsx)(j.a,{xs:3,children:Object(g.jsx)(u.a,{children:Object(g.jsx)(u.a.Item,{children:Object(g.jsx)(u.a.Link,{as:O.b,to:"/categories/TrashTaste1/",children:"TrashTaste1"})})})}),Object(g.jsx)(j.a,{xs:6,className:"w-100",children:Object(g.jsx)("div",{className:"align-items-center justify-content-center",children:f})}),Object(g.jsx)(j.a,{xs:3,children:Object(g.jsx)(u.a,{className:"align-items-center justify-content-end",children:Object(g.jsx)(m,{})})})]})}),Object(g.jsxs)(b.a,{id:"mobile-topnav",className:"shadow sdark-fg d-lg-none",variant:"dark",sticky:"top",children:[Object(g.jsxs)(d.a,{id:"topnav-buttons",className:"w-100 "+(c?"d-none":""),children:[Object(g.jsx)(j.a,{xs:6,children:Object(g.jsx)(u.a,{children:Object(g.jsx)(u.a.Item,{children:Object(g.jsx)(u.a.Link,{as:O.b,to:"/categories/TrashTaste1/",children:"TrashTaste1"})})})}),Object(g.jsx)(j.a,{xs:6,children:Object(g.jsxs)(u.a,{className:"align-items-center justify-content-end",children:[Object(g.jsx)(u.a.Item,{onClick:function(){return n(!0)},className:"pr-3",children:Object(g.jsx)(u.a.Link,{children:Object(g.jsx)(rt,{icon:p.j})})}),Object(g.jsx)(m,{})]})})]}),Object(g.jsxs)(d.a,{id:"topnav-search",className:"py-1 "+(c?"":"d-none"),children:[Object(g.jsx)(j.a,{xs:1,className:"px-2",children:Object(g.jsx)("div",{onClick:function(){return n(!1)},style:{cursor:"pointer"},children:Object(g.jsx)(rt,{icon:p.k})})}),Object(g.jsx)(j.a,{xs:11,className:"px-2",children:f})]})]})]})},it=function(){var e=Object(i.useState)(null),t=Object(s.a)(e,2),c=t[0],n=t[1];return Object(i.useEffect)((function(){Object(a.a)(r.a.mark((function e(){var t,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getSession();case 2:t=e.sent,c=t.data,t.ok&&c&&c.user&&n(c.user);case 6:case"end":return e.stop()}}),e)})))()}),[]),Object(g.jsx)("div",{className:"sdark-bg",children:Object(g.jsxs)(O.a,{children:[Object(g.jsx)(P.Provider,{value:c,children:Object(g.jsx)(st,{})}),Object(g.jsx)(d.a,{children:Object(g.jsx)("div",{className:"py-2",children:Object(g.jsxs)(x.c,{children:[Object(g.jsx)(x.a,{exact:!0,path:"/",children:Object(g.jsx)(f,{})}),Object(g.jsx)(x.a,{exact:!0,path:"/signup/",children:Object(g.jsx)(Ie,{})}),Object(g.jsx)(x.a,{exact:!0,path:"/login/",children:Object(g.jsx)(Ee,{login:function(e){return n(e)},logout:function(){return n(null)},user:c})}),Object(g.jsxs)(P.Provider,{value:c,children:[Object(g.jsx)(x.a,{exact:!0,path:"/search/",children:Object(g.jsx)(Me,{})}),Object(g.jsx)(x.a,{path:"/categories/:categoryName/",children:Object(g.jsx)(ie,{})}),Object(g.jsx)(x.a,{path:"/users/:userId/",children:Object(g.jsx)(le,{})}),Object(g.jsx)(x.a,{exact:!0,path:"/cards/:cardId/edit/",children:Object(g.jsx)(et,{})}),Object(g.jsx)(x.a,{exact:!0,path:"/cards/:cardId/",children:Object(g.jsx)(Ce,{})}),Object(g.jsx)(x.a,{path:"/create/",children:Object(g.jsx)(et,{})}),Object(g.jsx)(x.a,{path:"/profile/",children:Object(g.jsx)(le,{})})]}),Object(g.jsx)(x.a,{children:Object(g.jsx)("h2",{className:"text-sdark-red text-center",children:"Page Not Found."})})]})})})]})})};l.a.render(Object(g.jsx)(it,{}),document.getElementById("root"))}},[[245,1,2]]]);
//# sourceMappingURL=main.6886cc51.chunk.js.map